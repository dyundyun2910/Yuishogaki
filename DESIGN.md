# äº¬éƒ½å¯ºç¤¾ä»é–£ ç”±ç·’æ›¸ããƒãƒƒãƒ— - ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

## 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

### 1.1 ç›®çš„
äº¬éƒ½ã®å¯ºç¤¾ä»é–£ã§æ’®å½±ã—ãŸç”±ç·’æ›¸ãã®å†™çœŸã‚’ãƒ‡ã‚¸ã‚¿ãƒ«ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–åŒ–ã—ã€åœ°å›³ä¸Šã«ãƒãƒƒãƒ”ãƒ³ã‚°ã—ã¦å‚ç…§ã§ãã‚‹Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æ§‹ç¯‰ã™ã‚‹ã€‚

### 1.2 ãƒ¦ãƒ¼ã‚¶ãƒ¼
- å€‹äººåˆ©ç”¨ï¼ˆæœ¬äºº + å¤§å­¦ã®å‹äºº 5åç¨‹åº¦ï¼‰
- äº¬éƒ½ã®å¯ºç¤¾ä»é–£ã«èˆˆå‘³ãŒã‚ã‚‹äºº

### 1.3 ä¸»è¦æ©Ÿèƒ½
1. åœ°å›³ä¸Šã«å¯ºç¤¾ä»é–£ã‚’ãƒãƒ¼ã‚«ãƒ¼ã§è¡¨ç¤º
2. ãƒãƒ¼ã‚«ãƒ¼ã‚¯ãƒªãƒƒã‚¯ã§ç”±ç·’æ›¸ãã®å†™çœŸã¨å†…å®¹ã‚’è¡¨ç¤º
3. ç”±ç·’æ›¸ãå†…å®¹ã®å…¨æ–‡æ¤œç´¢æ©Ÿèƒ½
4. ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³ï¼ˆãƒ¢ãƒã‚¤ãƒ«å¯¾å¿œï¼‰

---

## 2. æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### 2.1 ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
- **ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯**: React 18.x
- **è¨€èª**: TypeScript 5.x
- **ãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«**: Vite 5.x
- **åœ°å›³ãƒ©ã‚¤ãƒ–ãƒ©ãƒª**: React-Leaflet + Leaflet
- **æ¤œç´¢ãƒ©ã‚¤ãƒ–ãƒ©ãƒª**: Fuse.jsï¼ˆè»½é‡ãªå…¨æ–‡æ¤œç´¢ï¼‰â€»æœªå®Ÿè£…
- **çŠ¶æ…‹ç®¡ç†**: React Context API (å°è¦æ¨¡ã®ãŸã‚)
- **ãƒ†ã‚¹ãƒˆ**: Vitest + React Testing Library

### 2.2 ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°
- **ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ **: GitHub Pages
- **ãƒ‡ãƒ—ãƒ­ã‚¤**: GitHub Actions ã«ã‚ˆã‚‹è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤
- **ãƒ‰ãƒ¡ã‚¤ãƒ³**: `<username>.github.io/Yuishogaki`

### 2.3 ãƒ‡ãƒ¼ã‚¿ç®¡ç†
- **å½¢å¼**: JSON
- **æ§‹é€ **: 
  - `data/temples.json` - å¯ºç¤¾ä»é–£ã®åŸºæœ¬æƒ…å ±
  - `data/images/` - ç”±ç·’æ›¸ãã®ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«
- **ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†**: Git/GitHub

---

## 3. ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆ

### 3.1 ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         GitHub Pages (CDN)          â”‚
â”‚  - index.html                       â”‚
â”‚  - JavaScript Bundle (React App)   â”‚
â”‚  - CSS                              â”‚
â”‚  - data/temples.json                â”‚
â”‚  - data/images/*.jpg                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“ HTTP(S)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      User's Web Browser             â”‚
â”‚  - React Application                â”‚
â”‚  - Leaflet Map                      â”‚
â”‚  - Fuse.js Search Engine            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å®Œå…¨ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³** - ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰å‡¦ç†ãªã—

### 3.2 ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«

#### Temple Interface (TypeScript)
```typescript
interface Temple {
  id: string;                    // ä¸€æ„è­˜åˆ¥å­
  name: string;                  // å¯ºç¤¾å
  nameKana: string;              // ãµã‚ŠãŒãª
  category: 'temple' | 'shrine'; // å¯º/ç¥ç¤¾
  location: {
    lat: number;                 // ç·¯åº¦
    lng: number;                 // çµŒåº¦
    address: string;             // ä½æ‰€
  };
  description: string;           // ç”±ç·’æ›¸ãã®ãƒ†ã‚­ã‚¹ãƒˆï¼ˆå…¨æ–‡æ¤œç´¢å¯¾è±¡ï¼‰
  images: string[];              // ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹é…åˆ—
  visitDate?: string;            // è¨ªå•æ—¥ (ISO 8601å½¢å¼)
  tags?: string[];               // ã‚¿ã‚°ï¼ˆä¾‹: ä¸–ç•Œéºç”£, ç´…è‘‰ã®åæ‰€ï¼‰
  website?: string;              // å…¬å¼ã‚µã‚¤ãƒˆURL
}
```

#### åˆæœŸãƒ‡ãƒ¼ã‚¿ä¾‹ (data/temples.json)
```json
{
  "temples": [
    {
      "id": "kinkakuji",
      "name": "é‡‘é–£å¯ºï¼ˆé¹¿è‹‘å¯ºï¼‰",
      "nameKana": "ãã‚“ã‹ãã˜ï¼ˆã‚ããŠã‚“ã˜ï¼‰",
      "category": "temple",
      "location": {
        "lat": 35.0394,
        "lng": 135.7292,
        "address": "äº¬éƒ½åºœäº¬éƒ½å¸‚åŒ—åŒºé‡‘é–£å¯ºç”º1"
      },
      "description": "æ­£å¼åç§°ã¯é¹¿è‹‘å¯ºã€‚è¶³åˆ©ç¾©æº€ãŒ1397å¹´ã«å»ºç«‹ã—ãŸåˆ¥è˜ã‚’ã€ãã®æ­»å¾Œç¦…å¯ºã¨ã—ãŸã‚‚ã®ã€‚é‡‘ç®”ã‚’è²¼ã£ãŸèˆåˆ©æ®¿ã€Œé‡‘é–£ã€ãŒæœ‰åã§ã€ä¸–ç•Œæ–‡åŒ–éºç”£ã«ç™»éŒ²ã•ã‚Œã¦ã„ã‚‹ã€‚",
      "images": ["data/images/kinkakuji_01.jpg"],
      "visitDate": "2024-03-15",
      "tags": ["ä¸–ç•Œéºç”£", "é‡‘é–£", "è¶³åˆ©ç¾©æº€"],
      "website": "https://www.shokoku-ji.jp/kinkakuji/"
    }
  ]
}
```

### 3.3 ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ
```
Yuishogaki/
â”œâ”€â”€ public/
â”‚   â””â”€â”€ data/
â”‚       â”œâ”€â”€ temples.json          # å¯ºç¤¾ãƒ‡ãƒ¼ã‚¿
â”‚       â””â”€â”€ images/               # ç”±ç·’æ›¸ãç”»åƒ
â”‚           â”œâ”€â”€ kinkakuji_01.jpg
â”‚           â””â”€â”€ ...
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ Map/
â”‚   â”‚   â”‚   â”œâ”€â”€ MapView.tsx       # åœ°å›³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”‚   â””â”€â”€ MapMarker.tsx     # ãƒãƒ¼ã‚«ãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ Search/
â”‚   â”‚   â”‚   â””â”€â”€ SearchBar.tsx     # æ¤œç´¢ãƒãƒ¼
â”‚   â”‚   â”œâ”€â”€ Temple/
â”‚   â”‚   â”‚   â”œâ”€â”€ TempleDetail.tsx  # è©³ç´°è¡¨ç¤ºãƒ‘ãƒãƒ«
â”‚   â”‚   â”‚   â””â”€â”€ TempleList.tsx    # ãƒªã‚¹ãƒˆè¡¨ç¤º
â”‚   â”‚   â””â”€â”€ Layout/
â”‚   â”‚       â”œâ”€â”€ Header.tsx        # ãƒ˜ãƒƒãƒ€ãƒ¼
â”‚   â”‚       â””â”€â”€ Sidebar.tsx       # ã‚µã‚¤ãƒ‰ãƒãƒ¼
â”‚   â”œâ”€â”€ contexts/
â”‚   â”‚   â””â”€â”€ TempleContext.tsx     # ãƒ‡ãƒ¼ã‚¿ç®¡ç†ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ
â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”œâ”€â”€ useTemples.ts         # ãƒ‡ãƒ¼ã‚¿å–å¾—ãƒ•ãƒƒã‚¯
â”‚   â”‚   â””â”€â”€ useSearch.ts          # æ¤œç´¢ãƒ•ãƒƒã‚¯
â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â””â”€â”€ temple.ts             # å‹å®šç¾©
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â””â”€â”€ searchEngine.ts       # Fuse.jsè¨­å®š
â”‚   â”œâ”€â”€ App.tsx                   # ãƒ¡ã‚¤ãƒ³ã‚¢ãƒ—ãƒª
â”‚   â”œâ”€â”€ main.tsx                  # ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
â”‚   â””â”€â”€ index.css                 # ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ã‚¿ã‚¤ãƒ«
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/
â”‚       â””â”€â”€ deploy.yml            # GitHub Pages ãƒ‡ãƒ—ãƒ­ã‚¤è¨­å®š
â”œâ”€â”€ index.html
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ vite.config.ts
â”œâ”€â”€ DESIGN.md                     # ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â””â”€â”€ README.md
```

---

## 4. ä¸»è¦æ©Ÿèƒ½ã®è©³ç´°è¨­è¨ˆ

### 4.1 åœ°å›³è¡¨ç¤ºæ©Ÿèƒ½
- **ä½¿ç”¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒª**: React-Leaflet
- **ãƒ™ãƒ¼ã‚¹ãƒãƒƒãƒ—**: OpenStreetMap
- **ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆä¸­å¿ƒ**: äº¬éƒ½å¸‚ä¸­å¿ƒï¼ˆåŒ—ç·¯35.0116, æ±çµŒ135.7681ï¼‰
- **ã‚ºãƒ¼ãƒ ãƒ¬ãƒ™ãƒ«**: åˆæœŸå€¤ 12

**å®Ÿè£…ãƒã‚¤ãƒ³ãƒˆ:**
- ã‚«ã‚¹ã‚¿ãƒ ãƒãƒ¼ã‚«ãƒ¼ã‚¢ã‚¤ã‚³ãƒ³ï¼ˆå¯ºã¨ç¥ç¤¾ã§è‰²åˆ†ã‘ï¼‰
- ãƒãƒ¼ã‚«ãƒ¼ã‚¯ãƒªãƒƒã‚¯ã§ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—è¡¨ç¤º
- ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼è¡¨ç¤ºï¼ˆãƒãƒ¼ã‚«ãƒ¼ãŒå¯†é›†ã—ã¦ã„ã‚‹å ´åˆï¼‰

### 4.2 æ¤œç´¢æ©Ÿèƒ½
- **æ¤œç´¢å¯¾è±¡ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰**:
  - å¯ºç¤¾å (name)
  - ãµã‚ŠãŒãª (nameKana)
  - ç”±ç·’æ›¸ãæœ¬æ–‡ (description)
  - ã‚¿ã‚° (tags)
  - ä½æ‰€ (location.address)

- **æ¤œç´¢ã‚ªãƒ—ã‚·ãƒ§ãƒ³**:
  - ã‚ã„ã¾ã„æ¤œç´¢ï¼ˆFuse.js threshold: 0.3ï¼‰
  - æ—¥æœ¬èªå¯¾å¿œ
  - ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ¤œç´¢ï¼ˆå…¥åŠ›ä¸­ã«çµæœæ›´æ–°ï¼‰

**Fuse.js è¨­å®šä¾‹:**
```typescript
const fuseOptions = {
  keys: [
    { name: 'name', weight: 0.3 },
    { name: 'nameKana', weight: 0.2 },
    { name: 'description', weight: 0.3 },
    { name: 'tags', weight: 0.1 },
    { name: 'location.address', weight: 0.1 }
  ],
  threshold: 0.3,
  includeScore: true
};
```

### 4.3 è©³ç´°è¡¨ç¤ºæ©Ÿèƒ½
- **è¡¨ç¤ºå†…å®¹**:
  - å¯ºç¤¾åãƒ»ãµã‚ŠãŒãª
  - ã‚«ãƒ†ã‚´ãƒªï¼ˆå¯º/ç¥ç¤¾ï¼‰
  - ç”±ç·’æ›¸ãç”»åƒï¼ˆã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼å½¢å¼ã§è¤‡æ•°å¯¾å¿œï¼‰
  - ãƒ†ã‚­ã‚¹ãƒˆåŒ–ã•ã‚ŒãŸç”±ç·’æ›¸ã
  - ä½æ‰€
  - è¨ªå•æ—¥
  - ã‚¿ã‚°
  - å…¬å¼ã‚µã‚¤ãƒˆã¸ã®ãƒªãƒ³ã‚¯

- **è¡¨ç¤ºæ–¹æ³•**:
  - ãƒ¢ãƒ¼ãƒ€ãƒ«ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ï¼ˆPCï¼‰
  - ãƒœãƒˆãƒ ã‚·ãƒ¼ãƒˆï¼ˆãƒ¢ãƒã‚¤ãƒ«ï¼‰

### 4.4 ãƒªã‚¹ãƒˆè¡¨ç¤ºæ©Ÿèƒ½
- ã‚µã‚¤ãƒ‰ãƒãƒ¼ã¾ãŸã¯ãƒ‰ãƒ­ãƒ¯ãƒ¼ã«ä¸€è¦§è¡¨ç¤º
- ã‚«ãƒ¼ãƒ‰å½¢å¼
- ã‚½ãƒ¼ãƒˆæ©Ÿèƒ½ï¼ˆåå‰é †ã€è¨ªå•æ—¥é †ï¼‰
- ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼æ©Ÿèƒ½ï¼ˆå¯º/ç¥ç¤¾ã€ã‚¿ã‚°ï¼‰

---

## 5. UI/UXè¨­è¨ˆ

### 5.1 ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ

#### ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ç‰ˆ
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Header (ã‚¿ã‚¤ãƒˆãƒ« + æ¤œç´¢ãƒãƒ¼)           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚          â”‚                             â”‚
â”‚ Sidebar  â”‚      Map View               â”‚
â”‚ (ãƒªã‚¹ãƒˆ)  â”‚                             â”‚
â”‚          â”‚                             â”‚
â”‚          â”‚                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ãƒ¢ãƒã‚¤ãƒ«ç‰ˆ
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Header            â”‚
â”‚  æ¤œç´¢ãƒãƒ¼           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    â”‚
â”‚    Map View        â”‚
â”‚    (å…¨ç”»é¢)         â”‚
â”‚                    â”‚
â”‚                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 (ãƒ‰ãƒ­ãƒ¯ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã§)
 (ãƒªã‚¹ãƒˆè¡¨ç¤º)
```

### 5.2 ã‚«ãƒ©ãƒ¼ã‚¹ã‚­ãƒ¼ãƒ 
- **ãƒ—ãƒ©ã‚¤ãƒãƒªã‚«ãƒ©ãƒ¼**: #D32F2F (èµ¤ - ç¥ç¤¾ã®é³¥å±…ã‚’ã‚¤ãƒ¡ãƒ¼ã‚¸)
- **ã‚»ã‚«ãƒ³ãƒ€ãƒªã‚«ãƒ©ãƒ¼**: #FFA000 (ç¥ç€è‰² - å¯ºé™¢ã®é‡‘ç®”ã‚’ã‚¤ãƒ¡ãƒ¼ã‚¸)
- **èƒŒæ™¯è‰²**: #FAFAFA (æ˜ã‚‹ã„ã‚°ãƒ¬ãƒ¼)
- **ãƒ†ã‚­ã‚¹ãƒˆ**: #212121 (ãƒ€ãƒ¼ã‚¯ã‚°ãƒ¬ãƒ¼)

### 5.3 ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£
- WAI-ARIAæº–æ‹ 
- ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³å¯¾å¿œ
- ç”»åƒã«altå±æ€§ã‚’è¨­å®š
- ååˆ†ãªã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆæ¯”

---

## 6. ãƒ‡ãƒ¼ã‚¿ç®¡ç†ãƒ•ãƒ­ãƒ¼

### 6.1 æ–°è¦ãƒ‡ãƒ¼ã‚¿è¿½åŠ ãƒ•ãƒ­ãƒ¼ï¼ˆè‡ªå‹•ç”Ÿæˆ - æ¨å¥¨ï¼‰
1. å†™çœŸã‚’ `public/data/images/` ã«é…ç½®
2. EXIFæƒ…å ±ã‹ã‚‰ä½ç½®æƒ…å ±ã‚’æŠ½å‡º
   ```bash
   npm run generate:temples
   ```
   - GPSåº§æ¨™ï¼ˆç·¯åº¦ãƒ»çµŒåº¦ï¼‰ã®å–å¾—
   - æ’®å½±æ—¥æ™‚ã®å–å¾—
   - è¿‘ã„ä½ç½®ã®ç”»åƒã‚’è‡ªå‹•ã‚°ãƒ«ãƒ¼ãƒ—åŒ–
3. Gemini AIã§ç”»åƒã‹ã‚‰å¯ºç¤¾æƒ…å ±ã‚’å–å¾—
   - å¯ºç¤¾åã€ãµã‚ŠãŒãª
   - ã‚«ãƒ†ã‚´ãƒªï¼ˆå¯º/ç¥ç¤¾ï¼‰
   - ç”±ç·’æ›¸ãã®å†…å®¹ï¼ˆOCR + è¦ç´„ï¼‰
   - ã‚¿ã‚°ã€å…¬å¼ã‚µã‚¤ãƒˆ
4. 2ã¤ã®JSONã‚’ãƒãƒ¼ã‚¸
   ```bash
   npm run merge:temples
   ```
   - EXIFä½ç½®æƒ…å ± + Geminiå¯ºç¤¾æƒ…å ±
   - ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«åã§è‡ªå‹•ãƒãƒƒãƒãƒ³ã‚°
5. Gitã‚³ãƒŸãƒƒãƒˆãƒ»ãƒ—ãƒƒã‚·ãƒ¥
6. GitHub Actionsã§è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤

### 6.2 æ–°è¦ãƒ‡ãƒ¼ã‚¿è¿½åŠ ãƒ•ãƒ­ãƒ¼ï¼ˆæ‰‹å‹•ï¼‰
1. å†™çœŸã‚’ãƒªã‚µã‚¤ã‚ºãƒ»æœ€é©åŒ–ï¼ˆæ¨å¥¨: 1200pxå¹…ï¼‰
2. `public/data/images/` ã«ç”»åƒã‚’é…ç½®
3. OCRãƒ„ãƒ¼ãƒ«ç­‰ã§ç”±ç·’æ›¸ãã‚’ãƒ†ã‚­ã‚¹ãƒˆåŒ–
4. `public/data/temples.json` ã«æ–°è¦ã‚¨ãƒ³ãƒˆãƒªè¿½åŠ 
5. Gitã‚³ãƒŸãƒƒãƒˆãƒ»ãƒ—ãƒƒã‚·ãƒ¥
6. GitHub Actionsã§è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤

### 6.3 ãƒ‡ãƒ¼ã‚¿ç·¨é›†
- JSONãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç›´æ¥ç·¨é›†
- VSCodeã® JSON Schemaæ¤œè¨¼ã‚’æ´»ç”¨
- ã¾ãŸã¯ç”Ÿæˆã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å†å®Ÿè¡Œ

---

## 7. é–‹ç™ºæ–¹é‡

### 7.1 ãƒ†ã‚¹ãƒˆé§†å‹•é–‹ç™ºï¼ˆTDDï¼‰
æœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯**ãƒ†ã‚¹ãƒˆé§†å‹•é–‹ç™ºï¼ˆTest-Driven Developmentï¼‰**ã§é€²ã‚ã¾ã™ã€‚

#### TDDã‚µã‚¤ã‚¯ãƒ«
1. **Red**: ãƒ†ã‚¹ãƒˆã‚’æ›¸ãï¼ˆå¤±æ•—ã™ã‚‹ã“ã¨ã‚’ç¢ºèªï¼‰
2. **Green**: æœ€å°é™ã®ã‚³ãƒ¼ãƒ‰ã§å®Ÿè£…ï¼ˆãƒ†ã‚¹ãƒˆã‚’é€šã™ï¼‰
3. **Refactor**: ã‚³ãƒ¼ãƒ‰ã‚’ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ï¼ˆãƒ†ã‚¹ãƒˆã¯é€šã£ãŸã¾ã¾ï¼‰

#### ãƒ†ã‚¹ãƒˆæˆ¦ç•¥
- **å˜ä½“ãƒ†ã‚¹ãƒˆï¼ˆUnit Testsï¼‰**: å„é–¢æ•°ãƒ»ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å€‹åˆ¥æ©Ÿèƒ½
- **çµ±åˆãƒ†ã‚¹ãƒˆï¼ˆIntegration Testsï¼‰**: ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆé–“ã®é€£æº
- **E2Eãƒ†ã‚¹ãƒˆï¼ˆEnd-to-End Testsï¼‰**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚·ãƒŠãƒªã‚ªå…¨ä½“ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

#### ãƒ†ã‚¹ãƒˆãƒ„ãƒ¼ãƒ«
- **ãƒ†ã‚¹ãƒˆãƒ©ãƒ³ãƒŠãƒ¼**: Vitestï¼ˆViteã¨çµ±åˆï¼‰
- **Reactãƒ†ã‚¹ãƒˆ**: React Testing Library
- **ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³**: Vitestæ¨™æº–ã®expect
- **ãƒ¢ãƒƒã‚¯**: Vitestæ¨™æº–ã®vi
- **ã‚«ãƒãƒ¬ãƒƒã‚¸**: @vitest/coverage-v8

#### ãƒ†ã‚¹ãƒˆæ§‹æˆ
```
src/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ Map/
â”‚   â”‚   â”œâ”€â”€ MapView.tsx
â”‚   â”‚   â”œâ”€â”€ MapView.test.tsx      # ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â”‚   â”œâ”€â”€ MapMarker.tsx
â”‚   â”‚   â””â”€â”€ MapMarker.test.tsx
â”‚   â”œâ”€â”€ Search/
â”‚   â”‚   â”œâ”€â”€ SearchBar.tsx
â”‚   â”‚   â””â”€â”€ SearchBar.test.tsx
â”‚   â””â”€â”€ Temple/
â”‚       â”œâ”€â”€ TempleDetail.tsx
â”‚       â”œâ”€â”€ TempleDetail.test.tsx
â”‚       â”œâ”€â”€ TempleList.tsx
â”‚       â””â”€â”€ TempleList.test.tsx
â”œâ”€â”€ hooks/
â”‚   â”œâ”€â”€ useTemples.ts
â”‚   â”œâ”€â”€ useTemples.test.ts
â”‚   â”œâ”€â”€ useSearch.ts
â”‚   â””â”€â”€ useSearch.test.ts
â””â”€â”€ utils/
    â”œâ”€â”€ searchEngine.ts
    â””â”€â”€ searchEngine.test.ts
```

#### ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ç›®æ¨™
- **å…¨ä½“**: 80%ä»¥ä¸Š
- **ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ï¼ˆutils, hooksï¼‰**: 90%ä»¥ä¸Š
- **ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**: 70%ä»¥ä¸Š

### 7.2 é–‹ç™ºãƒ•ã‚§ãƒ¼ã‚º

### Phase 1: ç’°å¢ƒæ§‹ç¯‰ã¨ãƒ†ã‚¹ãƒˆåŸºç›¤ï¼ˆWeek 1ï¼‰ âœ… å®Œäº†
- [x] Vite + React + TypeScript ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ
- [x] Vitest + React Testing Library ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
- [x] ESLint + Prettier è¨­å®š
- [x] åŸºæœ¬çš„ãªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ æ§‹ç¯‰
- [x] ã‚µãƒ³ãƒ—ãƒ«ãƒ†ã‚¹ãƒˆä½œæˆï¼ˆå‹•ä½œç¢ºèªï¼‰
- [x] ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ï¼ˆ3-5ä»¶ï¼‰ã®ä½œæˆ

**TDDå®Ÿè·µ:**
```
1. ãƒ†ã‚¹ãƒˆ: ãƒ‡ãƒ¼ã‚¿å‹å®šç¾©ã®ãƒ†ã‚¹ãƒˆ
2. å®Ÿè£…: Templeå‹ã®å®šç¾©
3. ãƒªãƒ•ã‚¡ã‚¯ã‚¿: å‹ã®æ•´ç†
```
**æˆæœ:** å…¨4ãƒ†ã‚¹ãƒˆæˆåŠŸ

#### Phase 2: ãƒ‡ãƒ¼ã‚¿ç®¡ç†æ©Ÿèƒ½ï¼ˆWeek 2ï¼‰ âœ… å®Œäº†
- [x] Templeå‹å®šç¾©ã®ãƒ†ã‚¹ãƒˆä½œæˆ
- [x] Templeå‹ã®å®Ÿè£…
- [x] ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿ãƒ•ãƒƒã‚¯ï¼ˆuseTemplesï¼‰ã®ãƒ†ã‚¹ãƒˆä½œæˆ
- [x] useTemplesã®å®Ÿè£…
- [x] TempleContextã®ãƒ†ã‚¹ãƒˆä½œæˆ
- [x] TempleContextã®å®Ÿè£…

**TDDå®Ÿè·µ:**
```
1. ãƒ†ã‚¹ãƒˆ: JSONãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã‚ã‚‹ã“ã¨ã‚’ãƒ†ã‚¹ãƒˆ
2. å®Ÿè£…: ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿å‡¦ç†
3. ãƒªãƒ•ã‚¡ã‚¯ã‚¿: ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°è¿½åŠ 
```
**æˆæœ:** useTemples 8ãƒ†ã‚¹ãƒˆæˆåŠŸã€TempleContext 4ãƒ†ã‚¹ãƒˆæˆåŠŸ

#### Phase 3: åœ°å›³è¡¨ç¤ºæ©Ÿèƒ½ï¼ˆWeek 3ï¼‰ âœ… å®Œäº†
- [x] MapViewã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒ†ã‚¹ãƒˆä½œæˆ
- [x] MapViewåŸºæœ¬å®Ÿè£…
- [x] MapMarkerã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒ†ã‚¹ãƒˆä½œæˆ
- [x] MapMarkerå®Ÿè£…
- [x] ãƒãƒ¼ã‚«ãƒ¼ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆã®ãƒ†ã‚¹ãƒˆ
- [x] ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©å®Ÿè£…
- [x] App.tsxã¨ã®çµ±åˆ

**TDDå®Ÿè·µ:**
```
1. ãƒ†ã‚¹ãƒˆ: ãƒãƒ¼ã‚«ãƒ¼ãŒæ­£ã—ã„ä½ç½®ã«è¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ãƒ†ã‚¹ãƒˆ
2. å®Ÿè£…: Leafletãƒãƒ¼ã‚«ãƒ¼æç”»
3. ãƒªãƒ•ã‚¡ã‚¯ã‚¿: ã‚«ã‚¹ã‚¿ãƒ ã‚¢ã‚¤ã‚³ãƒ³å¯¾å¿œ
```
**æˆæœ:** MapView 9ãƒ†ã‚¹ãƒˆæˆåŠŸã€å®Ÿéš›ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¨ã—ã¦å‹•ä½œ

#### Phase 4: ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆãƒ„ãƒ¼ãƒ«ï¼ˆWeek 4ï¼‰ âœ… å®Œäº†
- [x] EXIFæƒ…å ±æŠ½å‡ºã‚¹ã‚¯ãƒªãƒ—ãƒˆä½œæˆ
- [x] ç”»åƒã‹ã‚‰ä½ç½®æƒ…å ±ã‚’å–å¾—
- [x] ä½ç½®æƒ…å ±ã§ã‚°ãƒ«ãƒ¼ãƒ—åŒ–
- [x] Gemini AIé€£æºç”¨ãƒãƒ¼ã‚¸ã‚¹ã‚¯ãƒªãƒ—ãƒˆä½œæˆ
- [x] npm scriptsã¸ã®çµ±åˆ

**æˆæœ:** 
- `npm run generate:temples` - EXIFæƒ…å ±ã‹ã‚‰JSONã‚’è‡ªå‹•ç”Ÿæˆ
- `npm run merge:temples` - Gemini AIã®ãƒ‡ãƒ¼ã‚¿ã¨ãƒãƒ¼ã‚¸
- 112æšã®ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç®¡ç†å¯èƒ½ã«

#### Phase 5: è©³ç´°è¡¨ç¤ºæ©Ÿèƒ½ï¼ˆWeek 5ï¼‰ ğŸš§ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—
- [ ] TempleDetailã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒ†ã‚¹ãƒˆä½œæˆ
- [ ] TempleDetailå®Ÿè£…
- [ ] ãƒ¢ãƒ¼ãƒ€ãƒ«é–‹é–‰ã®ãƒ†ã‚¹ãƒˆ
- [ ] ãƒ¢ãƒ¼ãƒ€ãƒ«æ©Ÿèƒ½å®Ÿè£…
- [ ] ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³å¯¾å¿œ

**TDDå®Ÿè·µ:**
```
1. ãƒ†ã‚¹ãƒˆ: é¸æŠã—ãŸå¯ºç¤¾ã®è©³ç´°ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ãƒ†ã‚¹ãƒˆ
2. å®Ÿè£…: è©³ç´°è¡¨ç¤ºUI
3. ãƒªãƒ•ã‚¡ã‚¯ã‚¿: ç”»åƒã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼è¿½åŠ 
```

#### Phase 6: æ¤œç´¢æ©Ÿèƒ½ï¼ˆWeek 6ï¼‰ ğŸ“‹ äºˆå®š
- [ ] searchEngineï¼ˆFuse.jsçµ±åˆï¼‰ã®ãƒ†ã‚¹ãƒˆä½œæˆ
- [ ] searchEngineå®Ÿè£…
- [ ] useSearchãƒ•ãƒƒã‚¯ã®ãƒ†ã‚¹ãƒˆä½œæˆ
- [ ] useSearchå®Ÿè£…
- [ ] SearchBarã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒ†ã‚¹ãƒˆä½œæˆ
- [ ] SearchBarå®Ÿè£…
- [ ] æ¤œç´¢çµæœè¡¨ç¤ºã®ãƒ†ã‚¹ãƒˆ
- [ ] æ¤œç´¢çµæœUIå®Ÿè£…

**TDDå®Ÿè·µ:**
```
1. ãƒ†ã‚¹ãƒˆ: ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã§æ­£ã—ãæ¤œç´¢ã§ãã‚‹ã“ã¨ã‚’ãƒ†ã‚¹ãƒˆ
2. å®Ÿè£…: Fuse.jsçµ±åˆ
3. ãƒªãƒ•ã‚¡ã‚¯ã‚¿: ã‚ã„ã¾ã„æ¤œç´¢ã®ç²¾åº¦èª¿æ•´
```

#### Phase 7: ãƒªã‚¹ãƒˆè¡¨ç¤ºã¨ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ï¼ˆWeek 7ï¼‰ ğŸ“‹ äºˆå®š
- [ ] TempleListã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒ†ã‚¹ãƒˆä½œæˆ
- [ ] TempleListå®Ÿè£…
- [ ] ã‚½ãƒ¼ãƒˆæ©Ÿèƒ½ã®ãƒ†ã‚¹ãƒˆ
- [ ] ã‚½ãƒ¼ãƒˆæ©Ÿèƒ½å®Ÿè£…
- [ ] ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼æ©Ÿèƒ½ã®ãƒ†ã‚¹ãƒˆ
- [ ] ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼æ©Ÿèƒ½å®Ÿè£…

**TDDå®Ÿè·µ:**
```
1. ãƒ†ã‚¹ãƒˆ: ãƒªã‚¹ãƒˆãŒã‚½ãƒ¼ãƒˆã§ãã‚‹ã“ã¨ã‚’ãƒ†ã‚¹ãƒˆ
2. å®Ÿè£…: ã‚½ãƒ¼ãƒˆå‡¦ç†
3. ãƒªãƒ•ã‚¡ã‚¯ã‚¿: è¤‡æ•°æ¡ä»¶ã‚½ãƒ¼ãƒˆå¯¾å¿œ
```

#### Phase 8: ãƒ‡ãƒ—ãƒ­ã‚¤ã¨CI/CDï¼ˆWeek 8ï¼‰ ğŸ“‹ äºˆå®š
- [ ] GitHub Pagesè¨­å®š
- [ ] GitHub Actions CI/CDæ§‹ç¯‰
- [ ] ãƒ†ã‚¹ãƒˆè‡ªå‹•å®Ÿè¡Œè¨­å®š
- [ ] ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ
- [ ] å®Ÿãƒ‡ãƒ¼ã‚¿æŠ•å…¥
- [ ] E2Eãƒ†ã‚¹ãƒˆï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

#### Phase 9: æ”¹å–„ã¨æ‹¡å¼µï¼ˆç¶™ç¶šï¼‰ ğŸ“‹ äºˆå®š
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–
- [ ] PWAåŒ–ï¼ˆã‚ªãƒ•ãƒ©ã‚¤ãƒ³å¯¾å¿œï¼‰
- [ ] ãƒ‡ãƒ¼ã‚¿ç·¨é›†UIï¼ˆå°†æ¥çš„ã«ï¼‰
- [ ] è¿½åŠ æ©Ÿèƒ½ã®ãƒ†ã‚¹ãƒˆä½œæˆã¨å®Ÿè£…

### 7.3 TDDå®Ÿè·µä¾‹

#### ä¾‹1: useTemplesãƒ•ãƒƒã‚¯ã®ãƒ†ã‚¹ãƒˆ

```typescript
// src/hooks/useTemples.test.ts
import { renderHook, waitFor } from '@testing-library/react';
import { describe, it, expect, vi } from 'vitest';
import { useTemples } from './useTemples';

describe('useTemples', () => {
  it('should load temples data successfully', async () => {
    // Arrange
    const mockData = {
      temples: [
        {
          id: 'test1',
          name: 'ãƒ†ã‚¹ãƒˆå¯º',
          location: { lat: 35.0, lng: 135.0, address: 'äº¬éƒ½' }
        }
      ]
    };
    
    global.fetch = vi.fn(() =>
      Promise.resolve({
        json: () => Promise.resolve(mockData)
      })
    );

    // Act
    const { result } = renderHook(() => useTemples());

    // Assert
    await waitFor(() => {
      expect(result.current.temples).toHaveLength(1);
      expect(result.current.temples[0].name).toBe('ãƒ†ã‚¹ãƒˆå¯º');
    });
  });

  it('should handle loading state', () => {
    const { result } = renderHook(() => useTemples());
    expect(result.current.loading).toBe(true);
  });

  it('should handle error state', async () => {
    global.fetch = vi.fn(() => Promise.reject('API Error'));
    const { result } = renderHook(() => useTemples());
    
    await waitFor(() => {
      expect(result.current.error).toBeTruthy();
    });
  });
});
```

#### ä¾‹2: searchEngineé–¢æ•°ã®ãƒ†ã‚¹ãƒˆ

```typescript
// src/utils/searchEngine.test.ts
import { describe, it, expect } from 'vitest';
import { createSearchEngine, search } from './searchEngine';
import { Temple } from '../types/temple';

describe('searchEngine', () => {
  const mockTemples: Temple[] = [
    {
      id: '1',
      name: 'é‡‘é–£å¯º',
      nameKana: 'ãã‚“ã‹ãã˜',
      description: 'è¶³åˆ©ç¾©æº€ãŒå»ºç«‹ã—ãŸå¯ºé™¢',
      category: 'temple',
      location: { lat: 35.0, lng: 135.0, address: 'äº¬éƒ½å¸‚åŒ—åŒº' },
      images: []
    },
    {
      id: '2',
      name: 'éŠ€é–£å¯º',
      nameKana: 'ãã‚“ã‹ãã˜',
      description: 'è¶³åˆ©ç¾©æ”¿ãŒå»ºç«‹ã—ãŸå¯ºé™¢',
      category: 'temple',
      location: { lat: 35.0, lng: 135.0, address: 'äº¬éƒ½å¸‚å·¦äº¬åŒº' },
      images: []
    }
  ];

  it('should search by temple name', () => {
    const engine = createSearchEngine(mockTemples);
    const results = search(engine, 'é‡‘é–£');
    
    expect(results).toHaveLength(1);
    expect(results[0].name).toBe('é‡‘é–£å¯º');
  });

  it('should search by description', () => {
    const engine = createSearchEngine(mockTemples);
    const results = search(engine, 'è¶³åˆ©ç¾©æº€');
    
    expect(results).toHaveLength(1);
    expect(results[0].name).toBe('é‡‘é–£å¯º');
  });

  it('should return empty array for no matches', () => {
    const engine = createSearchEngine(mockTemples);
    const results = search(engine, 'xyz123');
    
    expect(results).toHaveLength(0);
  });

  it('should support fuzzy search', () => {
    const engine = createSearchEngine(mockTemples);
    const results = search(engine, 'ãã‚“ã‹ã');
    
    expect(results.length).toBeGreaterThan(0);
    expect(results[0].name).toBe('é‡‘é–£å¯º');
  });
});
```

#### ä¾‹3: MapMarkerã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒ†ã‚¹ãƒˆ

```typescript
// src/components/Map/MapMarker.test.tsx
import { render, screen, fireEvent } from '@testing-library/react';
import { describe, it, expect, vi } from 'vitest';
import { MapContainer } from 'react-leaflet';
import { MapMarker } from './MapMarker';
import { Temple } from '../../types/temple';

describe('MapMarker', () => {
  const mockTemple: Temple = {
    id: 'test1',
    name: 'ãƒ†ã‚¹ãƒˆå¯º',
    nameKana: 'ã¦ã™ã¨ã˜',
    category: 'temple',
    location: { lat: 35.0, lng: 135.0, address: 'äº¬éƒ½' },
    description: 'ãƒ†ã‚¹ãƒˆç”¨ã®å¯ºé™¢',
    images: []
  };

  it('should render marker at correct position', () => {
    const { container } = render(
      <MapContainer center={[35.0, 135.0]} zoom={13}>
        <MapMarker temple={mockTemple} />
      </MapContainer>
    );
    
    const marker = container.querySelector('.leaflet-marker-icon');
    expect(marker).toBeInTheDocument();
  });

  it('should call onClick handler when marker is clicked', () => {
    const handleClick = vi.fn();
    
    render(
      <MapContainer center={[35.0, 135.0]} zoom={13}>
        <MapMarker temple={mockTemple} onClick={handleClick} />
      </MapContainer>
    );
    
    const marker = screen.getByRole('button');
    fireEvent.click(marker);
    
    expect(handleClick).toHaveBeenCalledWith(mockTemple);
  });

  it('should display temple name in popup', () => {
    render(
      <MapContainer center={[35.0, 135.0]} zoom={13}>
        <MapMarker temple={mockTemple} />
      </MapContainer>
    );
    
    const marker = screen.getByRole('button');
    fireEvent.click(marker);
    
    expect(screen.getByText('ãƒ†ã‚¹ãƒˆå¯º')).toBeInTheDocument();
  });
});
```

### 7.4 ç¶™ç¶šçš„ã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³

#### GitHub Actionsè¨­å®šä¾‹

```yaml
# .github/workflows/test.yml
name: Test

on: [push, pull_request]

jobs:
  test:
    runs-on: ubuntu-latest
    
    steps:
      - uses: actions/checkout@v4
      
      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: '18'
          cache: 'npm'
      
      - name: Install dependencies
        run: npm ci
      
      - name: Run linter
        run: npm run lint
      
      - name: Run type check
        run: npm run type-check
      
      - name: Run tests
        run: npm run test:coverage
      
      - name: Upload coverage
        uses: codecov/codecov-action@v3
        with:
          files: ./coverage/coverage-final.json
```

---

## 8. éæ©Ÿèƒ½è¦ä»¶

### 8.1 ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹
- åˆæœŸãƒ­ãƒ¼ãƒ‰æ™‚é–“: 3ç§’ä»¥å†…
- æ¤œç´¢ãƒ¬ã‚¹ãƒãƒ³ã‚¹: 100msä»¥å†…
- ç”»åƒæœ€é©åŒ–: WebPå½¢å¼ã€é…å»¶èª­ã¿è¾¼ã¿

### 8.2 ãƒ–ãƒ©ã‚¦ã‚¶å¯¾å¿œ
- Chrome (æœ€æ–°ç‰ˆ)
- Firefox (æœ€æ–°ç‰ˆ)
- Safari (æœ€æ–°ç‰ˆ)
- Edge (æœ€æ–°ç‰ˆ)
- ãƒ¢ãƒã‚¤ãƒ«ãƒ–ãƒ©ã‚¦ã‚¶ (iOS Safari, Chrome for Android)

### 8.3 ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£
- HTTPSå¿…é ˆï¼ˆGitHub Pagesã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå¯¾å¿œï¼‰
- XSSå¯¾ç­–ï¼ˆReactã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚¨ã‚¹ã‚±ãƒ¼ãƒ—ï¼‰
- å€‹äººæƒ…å ±ã¯å«ã‚ãªã„

### 8.4 ä¿å®ˆæ€§
- TypeScriptã«ã‚ˆã‚‹å‹å®‰å…¨æ€§
- ESLint + Prettierã«ã‚ˆã‚‹ã‚³ãƒ¼ãƒ‰å“è³ªç¶­æŒ
- ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å˜ä½“ãƒ†ã‚¹ãƒˆï¼ˆVitest + React Testing Libraryï¼‰
- ãƒ†ã‚¹ãƒˆé§†å‹•é–‹ç™ºï¼ˆTDDï¼‰ã«ã‚ˆã‚‹å“è³ªä¿è¨¼
- ç¶™ç¶šçš„ã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆCIï¼‰ã«ã‚ˆã‚‹è‡ªå‹•ãƒ†ã‚¹ãƒˆ

---

## 9. å°†æ¥ã®æ‹¡å¼µæ¡ˆ

### 9.1 çŸ­æœŸçš„ãªæ‹¡å¼µ
- è¨ªå•æ¸ˆã¿/æœªè¨ªå•ã®ãƒ•ãƒ©ã‚°æ©Ÿèƒ½
- ãŠæ°—ã«å…¥ã‚Šæ©Ÿèƒ½ï¼ˆLocalStorageï¼‰
- åœ°å›³ã®å°åˆ·æ©Ÿèƒ½
- ãƒ«ãƒ¼ãƒˆæ¡ˆå†…ï¼ˆå¤–éƒ¨åœ°å›³ã‚¢ãƒ—ãƒªé€£æºï¼‰

### 9.2 ä¸­é•·æœŸçš„ãªæ‹¡å¼µ
- PWAåŒ–ï¼ˆã‚ªãƒ•ãƒ©ã‚¤ãƒ³é–²è¦§ï¼‰
- å†™çœŸã®ã‚®ãƒ£ãƒ©ãƒªãƒ¼è¡¨ç¤º
- ãƒ¦ãƒ¼ã‚¶ãƒ¼æŠ•ç¨¿æ©Ÿèƒ½ï¼ˆGitHub Issues/Discussionsé€£æºï¼‰
- ä»–åœ°åŸŸã¸ã®å±•é–‹ï¼ˆå¥ˆè‰¯ã€éŒå€‰ãªã©ï¼‰
- AIè¦ç´„æ©Ÿèƒ½ï¼ˆç”±ç·’æ›¸ãã®è‡ªå‹•è¦ç´„ï¼‰

---

## 10. ãƒªã‚¹ã‚¯ã¨å¯¾ç­–

| ãƒªã‚¹ã‚¯ | å½±éŸ¿ | å¯¾ç­– |
|--------|------|------|
| ç”»åƒã‚µã‚¤ã‚ºãŒå¤§ãããƒšãƒ¼ã‚¸ãŒé‡ã„ | é«˜ | ç”»åƒæœ€é©åŒ–ï¼ˆWebPã€é…å»¶èª­ã¿è¾¼ã¿ï¼‰ |
| ãƒ‡ãƒ¼ã‚¿ä»¶æ•°å¢—åŠ ã«ã‚ˆã‚‹æ¤œç´¢é…å»¶ | ä¸­ | Fuse.jsã®è¨­å®šæœ€é©åŒ–ã€ä»®æƒ³ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ« |
| GitHub Pagesã®å®¹é‡åˆ¶é™ï¼ˆ1GBï¼‰ | ä¸­ | ç”»åƒåœ§ç¸®ã€å¤–éƒ¨ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸æ¤œè¨ |
| ä½ç½®æƒ…å ±ã®ä¸æ­£ç¢ºã• | ä½ | Google Mapsã§ç¢ºèªå¾Œå…¥åŠ› |

---

## 11. å‚è€ƒãƒªã‚½ãƒ¼ã‚¹

### æŠ€è¡“ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- [Reactå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://react.dev/)
- [Leaflet Documentation](https://leafletjs.com/)
- [React-Leaflet Documentation](https://react-leaflet.js.org/)
- [Fuse.js Documentation](https://fusejs.io/)
- [Vitest Documentation](https://vitest.dev/)
- [GitHub Pages ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://docs.github.com/pages)

### ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹å€™è£œ
- OpenStreetMapï¼ˆä½ç½®æƒ…å ±ï¼‰
- äº¬éƒ½è¦³å…‰ã‚ªãƒ•ã‚£ã‚·ãƒ£ãƒ«ã‚µã‚¤ãƒˆ
- å„å¯ºç¤¾ã®å…¬å¼ã‚µã‚¤ãƒˆ
- Gemini AIï¼ˆç”»åƒèªè­˜ãƒ»OCRï¼‰

### ä½¿ç”¨ãƒ„ãƒ¼ãƒ«
- **ç”»åƒå‡¦ç†**: exif-parserï¼ˆEXIFæƒ…å ±æŠ½å‡ºï¼‰
- **OCR**: Gemini AIï¼ˆç”±ç·’æ›¸ããƒ†ã‚­ã‚¹ãƒˆåŒ–ï¼‰
- **åœ°å›³**: Leaflet + OpenStreetMap
- **æ¤œç´¢**: Fuse.jsï¼ˆè»½é‡å…¨æ–‡æ¤œç´¢ï¼‰
- **ãƒ†ã‚¹ãƒˆ**: Vitest + React Testing Library

---

## ä»˜éŒ²A: ç’°å¢ƒå¤‰æ•°

GitHub Pageså‘ã‘ã®ç’°å¢ƒå¤‰æ•°è¨­å®šï¼ˆä¸è¦ãªå ´åˆã‚‚ã‚ã‚‹ãŒå¿µã®ãŸã‚ï¼‰:

```bash
# .env.production
VITE_APP_TITLE=äº¬éƒ½å¯ºç¤¾ä»é–£ ç”±ç·’æ›¸ããƒãƒƒãƒ—
VITE_BASE_URL=/Yuishogaki/
```

---

## ä»˜éŒ²B: å¿…è¦ãªnpmãƒ‘ãƒƒã‚±ãƒ¼ã‚¸

```json
{
  "dependencies": {
    "react": "^18.2.0",
    "react-dom": "^18.2.0",
    "leaflet": "^1.9.4",
    "react-leaflet": "^4.2.1",
    "fuse.js": "^7.0.0",
    "@mui/material": "^5.15.0",
    "@mui/icons-material": "^5.15.0",
    "@emotion/react": "^11.11.0",
    "@emotion/styled": "^11.11.0"
  },
  "devDependencies": {
    "@types/react": "^18.2.0",
    "@types/react-dom": "^18.2.0",
    "@types/leaflet": "^1.9.8",
    "@typescript-eslint/eslint-plugin": "^6.0.0",
    "@typescript-eslint/parser": "^6.0.0",
    "@vitejs/plugin-react": "^4.2.0",
    "typescript": "^5.3.0",
    "vite": "^5.0.0",
    "vitest": "^1.2.0",
    "@vitest/coverage-v8": "^1.2.0",
    "@testing-library/react": "^14.1.0",
    "@testing-library/jest-dom": "^6.1.0",
    "@testing-library/user-event": "^14.5.0",
    "jsdom": "^23.0.0",
    "eslint": "^8.56.0",
    "eslint-plugin-react-hooks": "^4.6.0",
    "eslint-plugin-testing-library": "^6.2.0"
  }
}
```

---

## å¤‰æ›´å±¥æ­´

| æ—¥ä»˜ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | å¤‰æ›´å†…å®¹ | ä½œæˆè€… |
|------|-----------|---------|--------|
| 2024-11-03 | 1.3 | Phase 4å®Œäº†ã€ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆãƒ„ãƒ¼ãƒ«è¿½åŠ  | GitHub Copilot CLI |
| 2024-11-03 | 1.2 | Phase 3å®Œäº†ã€åœ°å›³è¡¨ç¤ºæ©Ÿèƒ½å®Ÿè£… | GitHub Copilot CLI |
| 2024-11-03 | 1.1 | Phase 2å®Œäº†ã€ãƒ‡ãƒ¼ã‚¿ç®¡ç†æ©Ÿèƒ½å®Ÿè£… | GitHub Copilot CLI |
| 2024-11-03 | 1.0 | åˆç‰ˆä½œæˆ | GitHub Copilot CLI |

